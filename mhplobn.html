<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=1920, height=1080" />
  <title>Boulangeries Ange — Sélectionner les canaux de recrutement</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap"
    rel="stylesheet"
  />

  <style>
    :root {
      /* Couleurs Boulangeries Ange */
      --ange-lime: #c8d223;
      --ange-vert: #195850;
      --ange-bleu: #273c86;

      --fond: #ffffff;
      --gris-clair: #f5f7fa;
      --gris-moyen: #e0e4e8;
      --texte: #1f2d3d;

      --succes: #28a745;
      --attention: #ffc107;
      --info: #17a2b8;
      --danger: #c8102e;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: "Source Sans 3", sans-serif;
      background: var(--fond);
      width: 1920px;
      height: 1080px;
      overflow: hidden;
      color: var(--texte);
    }

    .container { width: 100%; height: 100%; position: relative; }

    /* En-tête */
    .header {
      background: var(--ange-bleu);
      padding: 18px 60px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 20px rgba(39, 60, 134, 0.18);
      height: 80px;
    }

    .header-left { display: flex; align-items: center; gap: 16px; }

    .brand-mark {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      background: var(--ange-lime);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 25px rgba(200, 210, 35, 0.25);
      flex-shrink: 0;
    }
    .brand-mark svg { width: 26px; height: 26px; fill: var(--ange-bleu); }

    .header h1 {
      font-family: "Playfair Display", serif;
      color: white;
      font-size: 26px;
      font-weight: 600;
      letter-spacing: 0.3px;
    }

    .header-right { display: flex; align-items: center; gap: 14px; }

    .tag {
      background: rgba(255, 255, 255, 0.14);
      color: #fff;
      padding: 8px 16px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 12px;
      letter-spacing: 1px;
      text-transform: uppercase;
      border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .badge-score {
      background: var(--ange-lime);
      color: var(--ange-bleu);
      padding: 10px 18px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 13px;
      letter-spacing: 0.6px;
      text-transform: uppercase;
      box-shadow: 0 10px 24px rgba(200, 210, 35, 0.22);
      white-space: nowrap;
    }

    /* Zone principale */
    .main-content {
      display: flex;
      height: calc(100% - 80px - 90px);
      padding: 34px 60px;
      gap: 34px;
      background: linear-gradient(135deg, var(--gris-clair) 0%, #ffffff 55%, var(--gris-clair) 100%);
    }

    /* Slides */
    .slide {
      display: none;
      width: 100%;
      height: 100%;
      animation: fadeIn 0.45s ease;
    }
    .slide.active { display: flex; gap: 34px; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(14px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Colonne situation */
    .situation-panel {
      flex: 1;
      background: white;
      border-radius: 20px;
      padding: 32px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
      display: flex;
      flex-direction: column;
      border-left: 6px solid var(--ange-bleu);
    }

    .situation-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--ange-bleu);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 700;
      margin-bottom: 18px;
      width: fit-content;
    }

    .situation-title {
      font-family: "Playfair Display", serif;
      font-size: 26px;
      color: var(--ange-bleu);
      margin-bottom: 22px;
      line-height: 1.25;
    }

    .situation-details {
      display: grid;
      gap: 14px;
      flex: 1;
    }

    .detail-item {
      display: flex;
      align-items: flex-start;
      gap: 14px;
      padding: 14px 18px;
      background: var(--gris-clair);
      border-radius: 12px;
      transition: all 0.25s ease;
      border-left: 4px solid transparent;
    }

    .detail-item:hover {
      background: var(--gris-moyen);
      transform: translateY(-1px);
    }

    .detail-icon {
      width: 44px;
      height: 44px;
      background: var(--ange-bleu);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      box-shadow: 0 8px 18px rgba(39, 60, 134, 0.18);
    }

    .detail-icon svg { width: 22px; height: 22px; fill: white; }

    .detail-content h4 {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #6c7a89;
      margin-bottom: 6px;
      font-weight: 800;
    }

    .detail-content p {
      font-size: 16px;
      font-weight: 600;
      color: var(--texte);
      line-height: 1.35;
    }

    .urgency-high { border-left-color: var(--danger); }
    .urgency-medium { border-left-color: var(--attention); }
    .urgency-low { border-left-color: var(--succes); }

    /* Colonne choix */
    .choices-panel {
      flex: 1.2;
      display: flex;
      flex-direction: column;
      min-width: 0;
    }

    .choices-instruction {
      font-size: 17px;
      color: var(--texte);
      margin-bottom: 16px;
      padding: 12px 14px;
      border-left: 5px solid var(--ange-lime);
      background: rgba(200, 210, 35, 0.12);
      border-radius: 12px;
      font-weight: 600;
    }

    .choices-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 14px;
      flex: 1;
      min-height: 0;
    }

    .choice-btn {
      background: white;
      border: 2px solid var(--gris-moyen);
      border-radius: 16px;
      padding: 18px;
      cursor: pointer;
      transition: all 0.25s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: 10px;
      min-height: 130px;
    }

    .choice-btn:hover:not(.selected):not(.disabled) {
      border-color: var(--ange-vert);
      background: rgba(25, 88, 80, 0.06);
      transform: translateY(-2px);
      box-shadow: 0 10px 26px rgba(25, 88, 80, 0.12);
    }

    .choice-btn.selected { border-color: var(--ange-bleu); background: rgba(39, 60, 134, 0.08); }
    .choice-btn.correct { border-color: var(--succes); background: rgba(40, 167, 69, 0.1); }
    .choice-btn.incorrect { border-color: var(--danger); background: rgba(200, 16, 46, 0.05); opacity: 0.65; }
    .choice-btn.optimal {
      border-color: var(--succes);
      background: rgba(40, 167, 69, 0.15);
      box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.18);
    }
    .choice-btn.disabled { cursor: default; }

    .choice-icon {
      width: 50px;
      height: 50px;
      background: var(--gris-clair);
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .choice-btn.selected .choice-icon,
    .choice-btn.correct .choice-icon { background: var(--ange-bleu); }
    .choice-btn.optimal .choice-icon { background: var(--succes); }

    .choice-icon svg { width: 26px; height: 26px; fill: var(--ange-bleu); }

    .choice-btn.selected .choice-icon svg,
    .choice-btn.correct .choice-icon svg,
    .choice-btn.optimal .choice-icon svg { fill: white; }

    .choice-label { font-size: 15px; font-weight: 800; color: var(--texte); line-height: 1.25; }

    .choice-hint {
      font-size: 12px;
      color: #6c7a89;
      display: none;
      line-height: 1.35;
    }

    .choice-btn.correct .choice-hint,
    .choice-btn.optimal .choice-hint,
    .choice-btn.incorrect .choice-hint { display: block; }

    /* Bouton valider */
    .validate-section {
      margin-top: 16px;
      display: flex;
      justify-content: center;
      gap: 16px;
      align-items: center;
    }

    .validate-btn {
      background: var(--ange-vert);
      color: white;
      border: none;
      padding: 14px 46px;
      border-radius: 999px;
      font-size: 15px;
      font-weight: 800;
      cursor: pointer;
      transition: all 0.25s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 10px 24px rgba(25, 88, 80, 0.18);
    }

    .validate-btn:hover:not(:disabled) { background: #14473f; transform: scale(1.03); }
    .validate-btn:disabled { background: var(--gris-moyen); cursor: not-allowed; box-shadow: none; }

    /* Feedback */
    .feedback-panel {
      display: none;
      background: white;
      border-radius: 16px;
      padding: 22px;
      margin-top: 14px;
      box-shadow: 0 6px 22px rgba(0, 0, 0, 0.1);
      animation: slideUp 0.35s ease;
      border: 1px solid rgba(0,0,0,0.04);
    }

    .feedback-panel.show { display: block; }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(14px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .feedback-header { display: flex; align-items: center; gap: 14px; margin-bottom: 12px; }

    .feedback-icon {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .feedback-icon.success { background: var(--succes); }
    .feedback-icon.partial { background: var(--attention); }

    .feedback-icon svg { width: 24px; height: 24px; fill: white; }

    .feedback-title { font-size: 18px; font-weight: 900; }
    .feedback-title.success { color: var(--succes); }
    .feedback-title.partial { color: #b8860b; }

    .feedback-text { font-size: 15px; line-height: 1.6; color: var(--texte); font-weight: 600; }

    /* Navigation */
    .navigation {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 90px;
      background: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 60px;
      border-top: 1px solid var(--gris-moyen);
    }

    .nav-btn {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 30px;
      border: 2px solid var(--ange-bleu);
      background: white;
      color: var(--ange-bleu);
      border-radius: 999px;
      font-size: 15px;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.25s ease;
    }

    .nav-btn:hover:not(:disabled) { background: var(--ange-bleu); color: white; }
    .nav-btn:disabled { opacity: 0.35; cursor: not-allowed; }
    .nav-btn svg { width: 20px; height: 20px; fill: currentColor; }

    .progress-indicators { display: flex; gap: 10px; align-items: center; }

    .progress-dot {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: var(--gris-moyen);
      transition: all 0.25s ease;
      cursor: pointer;
    }

    .progress-dot.active { background: var(--ange-bleu); transform: scale(1.25); }
    .progress-dot.completed { background: var(--succes); }

    .progress-label { font-size: 14px; color: #6c7a89; font-weight: 800; margin-right: 4px; }

    /* Slide intro — IMPORTANT: ne doit PAS forcer display:flex hors active */
    .slide.intro-slide {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 60px;
      gap: 16px;
    }
    .slide.intro-slide.active { display: flex; gap: 0; }

    .intro-icon {
      width: 120px;
      height: 120px;
      background: var(--ange-vert);
      border-radius: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 26px;
      box-shadow: 0 18px 46px rgba(25, 88, 80, 0.28);
    }
    .intro-icon svg { width: 62px; height: 62px; fill: white; }

    .intro-title {
      font-family: "Playfair Display", serif;
      font-size: 42px;
      color: var(--ange-bleu);
      margin-bottom: 14px;
    }

    .intro-text {
      font-size: 20px;
      color: var(--texte);
      max-width: 980px;
      line-height: 1.7;
      margin-bottom: 18px;
      font-weight: 600;
    }

    .intro-objectives {
      display: flex;
      gap: 22px;
      margin-top: 6px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .objective-card {
      background: white;
      padding: 20px 26px;
      border-radius: 16px;
      box-shadow: 0 6px 22px rgba(0, 0, 0, 0.08);
      display: flex;
      align-items: center;
      gap: 14px;
      border: 1px solid rgba(0,0,0,0.04);
    }
    .objective-card svg { width: 34px; height: 34px; fill: var(--ange-lime); }
    .objective-card span { font-size: 16px; font-weight: 800; }

    .start-btn {
      margin-top: 30px;
      background: var(--ange-vert);
      color: white;
      border: none;
      padding: 16px 56px;
      border-radius: 999px;
      font-size: 17px;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.25s ease;
      text-transform: uppercase;
      letter-spacing: 1.4px;
      box-shadow: 0 12px 30px rgba(25, 88, 80, 0.22);
    }
    .start-btn:hover { background: #14473f; transform: scale(1.03); box-shadow: 0 18px 44px rgba(25, 88, 80, 0.28); }

    /* Slide résultat — IMPORTANT: ne doit PAS forcer display:flex hors active */
    .slide.result-slide {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: 10px;
    }
    .slide.result-slide.active { display: flex; gap: 0; }

    .result-score {
      font-family: "Playfair Display", serif;
      font-size: 84px;
      color: var(--ange-bleu);
      margin-bottom: 10px;
    }

    .result-text { font-size: 22px; color: var(--texte); margin-bottom: 26px; font-weight: 700; }

    .result-summary {
      display: flex;
      gap: 26px;
      margin-bottom: 28px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .summary-card {
      background: white;
      padding: 26px 46px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid rgba(0,0,0,0.04);
    }

    .summary-card h4 {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: #6c7a89;
      margin-bottom: 8px;
      font-weight: 900;
    }

    .summary-card .value { font-size: 38px; font-weight: 900; color: var(--ange-bleu); }

    .restart-btn {
      background: var(--ange-bleu);
      color: white;
      border: none;
      padding: 16px 56px;
      border-radius: 999px;
      font-size: 17px;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.25s ease;
      box-shadow: 0 12px 30px rgba(39, 60, 134, 0.22);
      margin-top: 8px;
    }
    .restart-btn:hover { background: #1f2f66; transform: scale(1.03); }
  </style>
</head>

<body>
  <div class="container">
    <header class="header">
      <div class="header-left">
        <div class="brand-mark" aria-hidden="true" title="Boulangeries Ange">
          <svg viewBox="0 0 24 24">
            <path d="M12 2c-3.5 2.2-6 6.2-6 10.8C6 18.3 8.7 22 12 22s6-3.7 6-9.2C18 8.2 15.5 4.2 12 2zm0 18c-2.1 0-4-2.7-4-7.2 0-2.9 1.1-5.6 2.8-7.4v10.8h2.4V5.4c1.7 1.8 2.8 4.5 2.8 7.4 0 4.5-1.9 7.2-4 7.2z"/>
          </svg>
        </div>
        <h1>Boulangeries Ange — Canaux de recrutement</h1>
      </div>

      <div class="header-right">
        <span class="tag">Activité pratique</span>
        <span class="badge-score">Score : <span id="score-counter">0</span>/5</span>
      </div>
    </header>

    <div class="main-content">
      <!-- Slide 0 : Introduction -->
      <div class="slide intro-slide active" data-slide="0">
        <div class="intro-icon">
          <svg viewBox="0 0 24 24">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
          </svg>
        </div>
        <h2 class="intro-title">Sélectionner les canaux de recrutement</h2>
        <p class="intro-text">
          Dans le réseau <strong>Boulangeries Ange</strong>, le choix des canaux de recrutement dépend du poste
          (vente, production, encadrement), du niveau d’urgence et des caractéristiques du bassin d’emploi local.<br /><br />
          Dans cette activité, vous allez analyser <strong>5 situations</strong> et sélectionner les canaux les plus adaptés.
        </p>

        <div class="intro-objectives">
          <div class="objective-card">
            <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
            <span>Analyser le contexte</span>
          </div>
          <div class="objective-card">
            <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
            <span>Choisir les bons canaux</span>
          </div>
          <div class="objective-card">
            <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
            <span>Justifier ses choix</span>
          </div>
        </div>

        <button class="start-btn" onclick="startActivity()">Commencer l'activité</button>
      </div>

      <!-- Slides 1,2,3 : inchangés dans ton contenu (je les garde identiques) -->
      <!-- IMPORTANT : je ré-inclus ici tes slides 1-3 tels que tu les as écrits -->
      <!-- Pour gagner en lisibilité, je ne commente pas chaque ligne : seules les fonctions JS gèrent tout. -->

      <!-- Slide 1 -->
      <!-- (CONTENU IDENTIQUE À TON POST — je laisse tel quel) -->
      <!-- ... -->
      <!-- >>> Colle ici ton slide 1 exactement comme tu l’as fourni (il est déjà OK) <<< -->

      <!-- Slide 2 -->
      <!-- >>> Colle ici ton slide 2 exactement comme tu l’as fourni (il est déjà OK) <<< -->

      <!-- Slide 3 -->
      <!-- >>> Colle ici ton slide 3 exactement comme tu l’as fourni (il est déjà OK) <<< -->

      <!-- Slide 4 : je le complète proprement avec un contenu cohérent -->
      <div class="slide" data-slide="4">
        <div class="situation-panel">
          <span class="situation-badge">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.89 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"/></svg>
            Situation 4
          </span>
          <h3 class="situation-title">Recrutement d'un Développeur Full Stack senior</h3>

          <div class="situation-details">
            <div class="detail-item">
              <div class="detail-icon"><svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/></svg></div>
              <div class="detail-content">
                <h4>Nature du poste</h4>
                <p>CDI — Profil rare (React/Node/AWS) — 5+ ans — Télétravail possible</p>
              </div>
            </div>

            <div class="detail-item urgency-medium">
              <div class="detail-icon"><svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg></div>
              <div class="detail-content">
                <h4>Urgence</h4>
                <p><strong style="color: #b8860b;">Moyenne</strong> — Projet en tension, recrutement souhaité sous 6 à 8 semaines</p>
              </div>
            </div>

            <div class="detail-item">
              <div class="detail-icon"><svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg></div>
              <div class="detail-content">
                <h4>Bassin d'emploi</h4>
                <p>Marché très concurrentiel — Candidats souvent en poste — Attentes fortes (salaire / flex)</p>
              </div>
            </div>

            <div class="detail-item">
              <div class="detail-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg></div>
              <div class="detail-content">
                <h4>Contexte</h4>
                <p>Équipe produit en croissance — Forte exigence technique — Process de sélection structuré</p>
              </div>
            </div>
          </div>
        </div>

        <div class="choices-panel">
          <p class="choices-instruction">
            Sélectionnez les <strong>2 ou 3 canaux</strong> les plus pertinents pour cette situation :
          </p>

          <div class="choices-grid">
            <button class="choice-btn" data-choice="linkedin" data-optimal="true" data-hint="Ciblage senior, approche directe, vivier actif/passif">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg></div>
              <span class="choice-label">LinkedIn (approche directe)</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="cooptation" data-correct="true" data-hint="Réseau tech : accélère et augmente la confiance">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg></div>
              <span class="choice-label">Cooptation / Réseau interne</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="cabinet" data-optimal="true" data-hint="Cabinet spécialisé IT : ciblage rare + chasse, utile sur profils pénuriques">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/></svg></div>
              <span class="choice-label">Cabinet spécialisé IT</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="jobboard" data-correct="true" data-hint="Peut compléter (Welcome to the Jungle, etc.), mais moins efficace seul">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"/></svg></div>
              <span class="choice-label">Jobboards “tech”</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="francetravail" data-hint="Peut exister, mais rarement le canal principal sur un senior pénurique">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/></svg></div>
              <span class="choice-label">France Travail</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="ecoles" data-hint="Inadapté : besoin senior, pas un flux alternants">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"/></svg></div>
              <span class="choice-label">Écoles / Alternance</span>
              <span class="choice-hint"></span>
            </button>
          </div>

          <div class="validate-section">
            <button class="validate-btn" onclick="validateChoices(4)" disabled>Valider mes choix</button>
          </div>

          <div class="feedback-panel" id="feedback-4">
            <div class="feedback-header">
              <div class="feedback-icon success">
                <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
              </div>
              <span class="feedback-title success">Analyse de vos choix</span>
            </div>
            <p class="feedback-text">
              <strong>Canaux optimaux :</strong> Sur un profil senior pénurique, <strong>LinkedIn (approche directe)</strong> et un
              <strong>cabinet spécialisé IT</strong> sécurisent la chasse et l'accès aux profils passifs.<br /><br />
              La <strong>cooptation</strong> accélère fortement le sourcing. Les jobboards “tech” complètent la visibilité,
              mais rarement comme unique levier.
            </p>
          </div>
        </div>
      </div>

      <!-- Slide 5 : Situation 5 -->
      <div class="slide" data-slide="5">
        <div class="situation-panel">
          <span class="situation-badge">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.89 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"/></svg>
            Situation 5
          </span>
          <h3 class="situation-title">Recrutement d'un(e) Vendeur(se) polyvalent(e) en boulangerie</h3>

          <div class="situation-details">
            <div class="detail-item">
              <div class="detail-icon"><svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/></svg></div>
              <div class="detail-content">
                <h4>Nature du poste</h4>
                <p>CDI/Temps partiel possible — Accueil/vente — Travail le week-end — Formation interne</p>
              </div>
            </div>

            <div class="detail-item urgency-high">
              <div class="detail-icon"><svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg></div>
              <div class="detail-content">
                <h4>Urgence</h4>
                <p><strong style="color: var(--danger);">Élevée</strong> — Renfort immédiat (sous 10 jours)</p>
              </div>
            </div>

            <div class="detail-item">
              <div class="detail-icon"><svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg></div>
              <div class="detail-content">
                <h4>Bassin d'emploi</h4>
                <p>Zone commerciale — Forte mobilité locale — Candidats disponibles (saisonnier / services)</p>
              </div>
            </div>

            <div class="detail-item">
              <div class="detail-icon"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg></div>
              <div class="detail-content">
                <h4>Contexte</h4>
                <p>Point de vente à forte affluence — Priorité : fiabilité, savoir-être, disponibilité</p>
              </div>
            </div>
          </div>
        </div>

        <div class="choices-panel">
          <p class="choices-instruction">
            Sélectionnez les <strong>2 ou 3 canaux</strong> les plus pertinents pour cette situation :
          </p>

          <div class="choices-grid">
            <button class="choice-btn" data-choice="francetravail" data-optimal="true" data-hint="Vivier local + mise en relation rapide">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/></svg></div>
              <span class="choice-label">France Travail</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="reseauxsociaux" data-optimal="true" data-hint="Portée locale rapide (groupes, pages, Instagram)">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg></div>
              <span class="choice-label">Réseaux sociaux locaux</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="affichage" data-correct="true" data-hint="Affichage vitrine = candidats de proximité">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M3 3h18v2H3V3zm2 4h14v14H5V7zm2 2v10h10V9H7z"/></svg></div>
              <span class="choice-label">Affichage en magasin</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="interim" data-correct="true" data-hint="Peut dépanner très vite si besoin immédiat">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg></div>
              <span class="choice-label">Intérim / renfort court</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="cabinet" data-hint="Inadapté : trop coûteux et trop lent">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/></svg></div>
              <span class="choice-label">Cabinet de recrutement</span>
              <span class="choice-hint"></span>
            </button>

            <button class="choice-btn" data-choice="linkedin" data-hint="Pas prioritaire sur profils de vente de proximité">
              <div class="choice-icon"><svg viewBox="0 0 24 24"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg></div>
              <span class="choice-label">LinkedIn</span>
              <span class="choice-hint"></span>
            </button>
          </div>

          <div class="validate-section">
            <button class="validate-btn" onclick="validateChoices(5)" disabled>Valider mes choix</button>
          </div>

          <div class="feedback-panel" id="feedback-5">
            <div class="feedback-header">
              <div class="feedback-icon success">
                <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
              </div>
              <span class="feedback-title success">Analyse de vos choix</span>
            </div>
            <p class="feedback-text">
              <strong>Canaux optimaux :</strong> pour un recrutement de proximité et rapide, <strong>France Travail</strong> et les
              <strong>réseaux sociaux locaux</strong> sont très efficaces.<br /><br />
              L’<strong>affichage en magasin</strong> complète bien (candidats à proximité), et l’intérim peut dépanner en cas d’urgence immédiate.
            </p>
          </div>
        </div>
      </div>

      <!-- Slide 6 : Résultat -->
      <div class="slide result-slide" data-slide="6">
        <div class="result-score"><span id="final-score">0</span>/5</div>
        <div class="result-text" id="final-text">Résultat</div>

        <div class="result-summary">
          <div class="summary-card">
            <h4>Situations validées</h4>
            <div class="value"><span id="validated-count">0</span>/5</div>
          </div>
          <div class="summary-card">
            <h4>Choix optimaux</h4>
            <div class="value"><span id="optimal-count">0</span>/5</div>
          </div>
        </div>

        <button class="restart-btn" onclick="restartActivity()">Recommencer</button>
      </div>
    </div>

    <div class="navigation">
      <button class="nav-btn" id="prev-btn" onclick="prevSlide()">
        <svg viewBox="0 0 24 24"><path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6z"/></svg>
        Précédent
      </button>

      <div class="progress-indicators" id="progress">
        <span class="progress-label">Progression</span>
        <!-- dots injectés en JS -->
      </div>

      <button class="nav-btn" id="next-btn" onclick="nextSlide()">
        Suivant
        <svg viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg>
      </button>
    </div>
  </div>

  <script>
    // ------------------------------------------------------------
    // ÉTAT
    // ------------------------------------------------------------
    const TOTAL_SITUATIONS = 5;          // slides 1 à 5
    const FIRST_SITUATION = 1;
    const LAST_SITUATION = 5;
    const RESULT_SLIDE = 6;
    const INTRO_SLIDE = 0;

    let currentSlide = 0;

    // score = nombre de situations où au moins un choix "optimal" a été sélectionné
    let optimalChoices = 0;

    // marque les slides déjà validés (1..5)
    const validated = new Set();

    // marque si la situation a déjà crédité 1 point optimal (pour éviter double comptage)
    const optimalCredited = new Set();

    // ------------------------------------------------------------
    // INIT
    // ------------------------------------------------------------
    function init() {
      buildProgressDots();
      bindChoiceButtons();
      updateNav();
      updateScoreUI();
    }

    function buildProgressDots() {
      const progress = document.getElementById("progress");
      // Nettoie si déjà là
      progress.querySelectorAll(".progress-dot").forEach(d => d.remove());

      // 0..6 (intro, 5 situations, résultat)
      for (let i = 0; i <= RESULT_SLIDE; i++) {
        const dot = document.createElement("div");
        dot.className = "progress-dot";
        dot.title = (i === 0) ? "Introduction"
          : (i === RESULT_SLIDE) ? "Résultats"
          : `Situation ${i}`;
        dot.addEventListener("click", () => goToSlide(i));
        progress.appendChild(dot);
      }
      updateProgressDots();
    }

    function bindChoiceButtons() {
      document.querySelectorAll(".slide").forEach(slide => {
        const slideNum = Number(slide.dataset.slide || -1);
        if (slideNum < FIRST_SITUATION || slideNum > LAST_SITUATION) return;

        const choices = slide.querySelectorAll(".choice-btn");
        const validateBtn = slide.querySelector(".validate-btn");

        choices.forEach(btn => {
          btn.addEventListener("click", () => {
            if (btn.classList.contains("disabled")) return;

            btn.classList.toggle("selected");

            // 2 ou 3 sélections requises
            const selected = slide.querySelectorAll(".choice-btn.selected").length;
            validateBtn.disabled = !(selected === 2 || selected === 3);
          });
        });
      });
    }

    // ------------------------------------------------------------
    // NAVIGATION
    // ------------------------------------------------------------
    function showSlide(n) {
      document.querySelectorAll(".slide").forEach(s => s.classList.remove("active"));
      const target = document.querySelector(`.slide[data-slide="${n}"]`);
      if (!target) return;
      target.classList.add("active");
      currentSlide = n;
      updateNav();
      updateProgressDots();
    }

    function startActivity() {
      showSlide(1);
    }

    function prevSlide() {
      if (currentSlide <= 0) return;
      showSlide(currentSlide - 1);
    }

    function nextSlide() {
      // Empêche d'aller au-delà résultat
      if (currentSlide >= RESULT_SLIDE) return;

      // Si on est sur une situation non validée, on bloque l’avancement
      if (currentSlide >= FIRST_SITUATION && currentSlide <= LAST_SITUATION && !validated.has(currentSlide)) {
        // petit "nudge" visuel : flash du bouton valider
        const btn = document.querySelector(`.slide[data-slide="${currentSlide}"] .validate-btn`);
        if (btn) {
          btn.style.transform = "scale(1.06)";
          setTimeout(() => (btn.style.transform = ""), 180);
        }
        return;
      }

      // Dernière situation -> résultat
      if (currentSlide === LAST_SITUATION) {
        showResults();
        return;
      }

      showSlide(currentSlide + 1);
    }

    function goToSlide(n) {
      // Règles de navigation :
      // - intro libre
      // - situations : on peut revenir en arrière librement
      // - on ne peut pas sauter vers une situation > (max validée + 1)
      // - résultat accessible seulement si toutes validées

      if (n === INTRO_SLIDE) { showSlide(0); return; }

      if (n === RESULT_SLIDE) {
        if (validated.size === TOTAL_SITUATIONS) showResults();
        return;
      }

      if (n >= FIRST_SITUATION && n <= LAST_SITUATION) {
        const maxValidated = validated.size === 0 ? 0 : Math.max(...Array.from(validated));
        const allowedMax = Math.min(LAST_SITUATION, maxValidated + 1);
        if (n <= allowedMax) showSlide(n);
      }
    }

    function updateNav() {
      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");

      // Précédent
      prevBtn.disabled = (currentSlide === 0);

      // Next label + disabled logic
      if (currentSlide === 0) {
        nextBtn.textContent = "Suivant";
        nextBtn.disabled = true; // on force le démarrage via bouton
      } else if (currentSlide >= FIRST_SITUATION && currentSlide <= LAST_SITUATION) {
        nextBtn.textContent = (currentSlide === LAST_SITUATION) ? "Terminer" : "Suivant";
        // bloqué si pas validé
        nextBtn.disabled = !validated.has(currentSlide);
      } else if (currentSlide === RESULT_SLIDE) {
        nextBtn.textContent = "Suivant";
        nextBtn.disabled = true;
      }
    }

    function updateProgressDots() {
      const dots = document.querySelectorAll(".progress-dot");
      dots.forEach((dot, i) => {
        dot.classList.remove("active", "completed");
        if (i === currentSlide) dot.classList.add("active");
        if (i >= FIRST_SITUATION && i <= LAST_SITUATION && validated.has(i)) dot.classList.add("completed");
      });
    }

    // ------------------------------------------------------------
    // VALIDATION + SCORE
    // ------------------------------------------------------------
    function validateChoices(slideNum) {
      if (slideNum < FIRST_SITUATION || slideNum > LAST_SITUATION) return;

      const slide = document.querySelector(`.slide[data-slide="${slideNum}"]`);
      if (!slide) return;

      const validateBtn = slide.querySelector(".validate-btn");
      const feedback = document.getElementById(`feedback-${slideNum}`);
      const selectedBtns = Array.from(slide.querySelectorAll(".choice-btn.selected"));

      // Sécurité : doit être 2 ou 3
      if (!(selectedBtns.length === 2 || selectedBtns.length === 3)) return;

      // Lock & reveal correctness
      const allBtns = Array.from(slide.querySelectorAll(".choice-btn"));
      allBtns.forEach(btn => {
        btn.classList.add("disabled");

        const hint = btn.getAttribute("data-hint") || "";
        const hintEl = btn.querySelector(".choice-hint");
        if (hintEl) hintEl.textContent = hint;

        // Marquage : si sélectionné et correct / incorrect
        if (btn.classList.contains("selected")) {
          const isCorrect = btn.getAttribute("data-correct") === "true";
          const isOptimal = btn.getAttribute("data-optimal") === "true";

          if (isOptimal) btn.classList.add("optimal");
          else if (isCorrect) btn.classList.add("correct");
          else btn.classList.add("incorrect");
        } else {
          // optionnel : on peut aussi surligner les optimaux non sélectionnés,
          // mais tu avais une logique “afficher au clic”, donc on garde discret.
        }
      });

      // Crédit score : 1 point si au moins un optimal sélectionné, une seule fois par situation
      const hasOptimalSelected = selectedBtns.some(btn => btn.getAttribute("data-optimal") === "true");
      if (hasOptimalSelected && !optimalCredited.has(slideNum)) {
        optimalChoices += 1;
        optimalCredited.add(slideNum);
        updateScoreUI();
      }

      // valide
      validated.add(slideNum);
      validateBtn.disabled = true;

      if (feedback) feedback.classList.add("show");

      updateNav();
      updateProgressDots();
    }

    function updateScoreUI() {
      const counter = document.getElementById("score-counter");
      if (counter) counter.textContent = String(optimalChoices);
    }

    // ------------------------------------------------------------
    // RÉSULTATS
    // ------------------------------------------------------------
    function showResults() {
      // calcul final
      const finalScoreEl = document.getElementById("final-score");
      const optimalEl = document.getElementById("optimal-count");
      const validatedEl = document.getElementById("validated-count");
      const finalText = document.getElementById("final-text");

      if (finalScoreEl) finalScoreEl.textContent = String(optimalChoices);
      if (optimalEl) optimalEl.textContent = String(optimalChoices);
      if (validatedEl) validatedEl.textContent = String(validated.size);

      if (finalText) {
        if (optimalChoices === 5) finalText.textContent = "Excellent : vous avez identifié les meilleurs leviers dans chaque situation.";
        else if (optimalChoices >= 3) finalText.textContent = "Très bien : vos choix sont globalement pertinents, avec quelques optimisations possibles.";
        else finalText.textContent = "Bon début : relisez les feedbacks pour mieux prioriser selon l'urgence et la rareté des profils.";
      }

      showSlide(RESULT_SLIDE);
    }

    // ------------------------------------------------------------
    // RESET
    // ------------------------------------------------------------
    function restartActivity() {
      // reset état
      currentSlide = 0;
      optimalChoices = 0;
      validated.clear();
      optimalCredited.clear();
      updateScoreUI();

      // reset UI boutons
      document.querySelectorAll(".slide").forEach(slide => {
        const n = Number(slide.dataset.slide || -1);

        // reset feedback
        const fb = slide.querySelector(".feedback-panel");
        if (fb) fb.classList.remove("show");

        // reset choices
        slide.querySelectorAll(".choice-btn").forEach(btn => {
          btn.classList.remove("selected", "correct", "incorrect", "optimal", "disabled");
        });

        // reset validate btn
        if (n >= FIRST_SITUATION && n <= LAST_SITUATION) {
          const vbtn = slide.querySelector(".validate-btn");
          if (vbtn) vbtn.disabled = true;
        }
      });

      updateProgressDots();
      showSlide(0);
    }

    // ------------------------------------------------------------
    // BOOT
    // ------------------------------------------------------------
    init();
  </script>
</body>
</html>
